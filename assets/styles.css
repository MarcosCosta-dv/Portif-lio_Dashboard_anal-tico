/* =========================
   Design System (variáveis)
   ========================= */
:root {
  --bg: #ffffff;
  --surface: #f5f7fb;
  --text: #0f172a;
  --muted: #475569;
  --primary: #2563eb;
  --primary-600: #1d4ed8;
  --ring: rgba(37, 99, 235, .35);
  --border: #e5e7eb;
  --shadow: 0 10px 30px rgba(2, 6, 23, .08);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b1220;
    --surface: #0f172a;
    --text: #e2e8f0;
    --muted: #94a3b8;
    --primary: #60a5fa;
    --primary-600: #3b82f6;
    --ring: rgba(96, 165, 250, .35);
    --border: #1f2937;
    --shadow: 0 10px 30px rgba(15, 23, 42, .65);
  }
}

/* =========================
   Layout & tipografia
   ========================= */
html, body {
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.block-container {
  padding-top: 1.25rem;
  padding-bottom: 2rem;
  max-width: 1200px;
}

/* Cabeçalhos */
h1, h2, h3 {
  letter-spacing: .2px;
  line-height: 1.2;
  color: var(--text);
}
h1 { font-size: clamp(2rem, 1.2rem + 2vw, 2.6rem); }
h2 { font-size: clamp(1.4rem, 1rem + 1.2vw, 2rem); }
h3 { font-size: clamp(1.1rem, .9rem + .8vw, 1.4rem); }

.text-muted { color: var(--muted); }

/* Links */
a { color: var(--primary); text-decoration: none; transition: opacity .15s ease; }
a:hover { opacity: .9; }

/* =========================
   Cards / Badges
   ========================= */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 16px 18px;
  box-shadow: var(--shadow);
}
.card + .card { margin-top: 12px; }

.tag {
  display: inline-flex; align-items: center; gap: .4rem;
  padding: .25rem .6rem; border-radius: 999px;
  background: rgba(148,163,184,.14); color: var(--text);
  font-size: .85rem; border: 1px solid var(--border);
}

/* =========================
   Botões
   ========================= */
.btn, .btn-primary, .btn-outline {
  display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
  padding: 10px 16px; border-radius: 10px; border: 1px solid transparent;
  cursor: pointer; user-select: none;
  transition: transform .06s, box-shadow .2s, background-color .2s, border-color .2s;
  text-decoration: none; font-weight: 600;
}
.btn:focus-visible, .btn-primary:focus-visible, .btn-outline:focus-visible {
  outline: none; box-shadow: 0 0 0 4px var(--ring);
}
.btn:active, .btn-primary:active, .btn-outline:active { transform: translateY(1px) scale(.99); }

.btn-primary {
  background-color: var(--primary); color: #fff;
  box-shadow: 0 12px 24px rgba(37, 99, 235, .18);
}
.btn-primary:hover { background-color: var(--primary-600); }

.btn-outline {
  background: transparent; color: var(--text); border-color: var(--border);
}
.btn-outline:hover { background: rgba(148,163,184,.12); }

/* =========================
   Tabelas / DataFrames
   ========================= */
table, .dataframe {
  border-collapse: separate !important; border-spacing: 0; width: 100%;
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 12px; overflow: hidden; box-shadow: var(--shadow);
}
.dataframe thead th {
  background: linear-gradient(to bottom, rgba(148,163,184,.14), rgba(148,163,184,.06));
  color: var(--text); font-weight: 700; padding: .75rem; border-bottom: 1px solid var(--border);
}
.dataframe td, .dataframe th { padding: .6rem .75rem; }
.dataframe tbody tr:nth-child(even) { background: rgba(148,163,184,.05); }
.dataframe tbody tr { transition: background-color .12s ease; }
.dataframe tbody tr:hover { background: rgba(96,165,250,.10); }

/* =========================
   Inputs / Controles
   ========================= */
input, select, textarea {
  border-radius: 10px !important; border: 1px solid var(--border) !important;
}
input:focus, select:focus, textarea:focus {
  outline: none !important; border-color: var(--primary) !important; box-shadow: 0 0 0 4px var(--ring) !important;
}

/* =========================
   Chart containers (Plotly/Matplotlib)
   ========================= */
.plot-container, .stPlotlyChart, .stAltairChart, .stPyplot {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 14px; box-shadow: var(--shadow); padding: .3rem;
}

/* =========================
   Sidebar
   ========================= */
[data-testid="stSidebar"] { border-right: 1px solid var(--border); }

/* =========================
   Scrollbar (WebKit)
   ========================= */
*::-webkit-scrollbar { height: 12px; width: 12px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb {
  background: rgba(148,163,184,.35); border-radius: 999px;
  border: 3px solid transparent; background-clip: padding-box;
}
*::-webkit-scrollbar-thumb:hover { background: rgba(148,163,184,.55); }
